<h4>Fields</h4>

<div class="form-group form-controls">
    <button id="schema_field_new" type="button" class="btn btn-default btn-sm" data-ng-click="addField($parent.table)" title="Add field"
            data-ng-disabled="viewMode === 'json'">
        <i class="fa fa-plus"></i>
        Add Field
    </button>
</div>

<div class="panel">
    <table class="table table-condensed table-hover table-striped table-bordered">
        <thead>
            <th></th>
            <th ng-click="sortBy('name')">
                Name
                <span ng-show="propertyName == 'name' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'name' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th ng-click="sortBy('alias')">
                Alias
                <span ng-show="propertyName == 'alias' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'alias' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th ng-click="sortBy('type')">
                Type
                <span ng-show="propertyName == 'type' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'type' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th ng-click="sortBy('is_virtual')">
                Virtual
                <span ng-show="propertyName == 'is_virtual' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'is_virtual' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th ng-click="sortBy('is_aggregate')">
                Aggregate
                <span ng-show="propertyName == 'is_aggregate' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'is_aggregate' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th ng-click="sortBy('required')">
                Required
                <span ng-show="propertyName == 'required' && !reverse" class="fa fa-caret-up"></span>
                <span ng-show="propertyName == 'required' && reverse" class="fa fa-caret-down"></span>
            </th>
            <th>Constraints</th>
        </thead>

        <tbody>
            <tr data-ng-repeat="field in $parent.table.record.field | orderBy:propertyName:reverse track by $index ">
                <td>
                    <div class="cell-content">
                        <div>
                            <button id="schema_field_table_row_delete_{{$index}}" type="button" class="btn btn-default btn-xs"
                                    data-ng-click="deleteField(field)" title="Delete field">
                                <i class="fa fa-fw fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_name" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.name}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_alias" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.alias}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_type" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.type}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_virtual" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.is_virtual}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_aggregate" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.is_aggregate}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_required" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.required}}
                        </div>
                    </div>
                </td>
                <td id="schema_field_table_row_{{$index}}_constraints" data-ng-click="editField(field)">
                    <div class="cell-content">
                        <div>
                            {{field.is_primary_key ? 'Primary Key' : (field.is_foreign_key ? 'Foriegn Key' : (field.is_unique ?
                            'Unique' : ''))}}
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
