<div class="form-group">
    <label>Name</label>
    <df-simple-help data-options="helpText.name"></df-simple-help>
    <input id="schema_field_details_name" class="form-control" type="text" data-ng-model="field.record.name"
           data-ng-disabled="!field.__dfUI.newField && !tableStatus"/>
    <br/>

    <label>Alias</label>
    <df-simple-help data-options="helpText.alias"></df-simple-help>
    <input id="schema_field_details_alias" class="form-control" type="text" data-ng-model="field.record.alias"/>
    <br/>

    <label>Label</label>
    <df-simple-help data-options="helpText.label"></df-simple-help>
    <input id="schema_field_details_label" class="form-control" type="text" data-ng-model="field.record.label"/>
    <br/>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_virtual" type="checkbox" data-ng-model="field.record.is_virtual"/>
            Is Virtual?</label>
        <df-simple-help data-options="helpText.virtual_field"></df-simple-help>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_aggregate" type="checkbox" data-ng-disabled="!field.record.is_virtual"
                   data-ng-model="field.record.is_aggregate"/>
            Is Aggregate?</label>
        <df-simple-help data-options="helpText.aggregate_field"></df-simple-help>
    </div>
    <br/>

    <label>Type</label>
    <df-simple-help data-options="helpText.type"></df-simple-help>
    <select id="schema_field_details_type" data-ng-options="type.value as type.name for type in typeOptions" class="form-control"
            data-ng-model="field.record.type"></select> <br/>

    <label>Database Type</label>
    <df-simple-help data-options="helpText.database_type"></df-simple-help>
    <input id="schema_field_details_dbtype" class="form-control" data-ng-disabled="field.record.type != '' || field.record.is_virtual" type="text"
           data-ng-model="field.record.db_type"/>
    <br/>

    <label>Length</label>
    <input id="schema_field_details_length" class="form-control"
           data-ng-disabled="field.record.type === '' || (field.record.type != 'string' && field.record.type != 'integer' && field.record.type != 'text' && field.record.type != 'binary')"
           type="text" data-ng-model="field.record.length"/>
    <br/>

    <label>Precision</label>
    <input id="schema_field_details_precision" class="form-control"
           data-ng-disabled="(field.record.type != 'decimal' && field.record.type != 'float' && field.record.type != 'double') || field.record.type === ''"
           type="text" data-ng-model="field.record.precision"/>
    <br/>

    <label>Scale</label>
    <input id="schema_field_details_scale" class="form-control"
           data-ng-disabled="(field.record.type != 'decimal' && field.record.type != 'float' && field.record.type != 'double') || field.record.type === ''"
           type="text" data-ng-model="field.record.scale"/>
    <br/>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_fixedlength" type="checkbox" data-ng-disabled="field.record.type !== 'string' || field.record.type === ''"
                   data-ng-model="field.record.fixed_length"/>
            Fixed Length</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_multibyte" type="checkbox" data-ng-disabled="field.record.type !== 'string' || field.record.type === ''"
                   data-ng-model="field.record.supports_multibyte"/>
            Supports Multibyte</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_allownull" type="checkbox" data-ng-model="field.record.allow_null"/>
            Allow Null</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_autoinc" type="checkbox" data-ng-model="field.record.auto_increment"/>
            Auto Increment</label>
    </div>

    <label>Default Value</label>
    <input id="schema_field_details_defaultvalue" class="form-control" type="text" data-ng-model="field.record.default"/>
    <br/>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_indexed" type="checkbox" data-ng-model="field.record.is_index"/>
            Indexed</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_unique" type="checkbox" data-ng-model="field.record.is_unique"/>
            Unique</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_primarykey" type="checkbox" data-ng-model="field.record.is_primary_key" data-ng-disabled="true"/>
            Primary Key</label>
    </div>

    <div class="checkbox">
        <label>
            <input id="schema_field_details_foreignkey" type="checkbox" data-ng-change="changeForeignKey()" data-ng-model="field.record.is_foreign_key"/>
            Foreign Key</label>
    </div>

    <span data-ng-if="(field.record.type === 'reference') || field.record.is_foreign_key"
          data-ng-init="_loadReferenceTables()"></span>

    <label>Reference Table</label>
    <select id="schema_field_details_reference_table" data-ng-disabled="(field.record.type !== 'reference') && !field.record.is_foreign_key"
            class="form-control"
            data-ng-change="_loadReferenceFields()"
            data-ng-model="field.record.ref_table"
            data-ng-options="o.name as o.name for o in refTables">
        <option value="">-- Select Reference Table --</option>
    </select> <br/>

    <span data-ng-if="(field.record.type === 'reference') || field.record.is_foreign_key"
          data-ng-init="_loadReferenceFields()"></span>

    <label>Reference Field</label>
    <select id="schema_field_details_reference_field" data-ng-disabled="((field.record.type !== 'reference') && !field.record.is_foreign_key) || !field.record.ref_table"
            class="form-control"
            data-ng-model="field.record.ref_field"
            data-ng-options="o.name as o.name for o in refFields">
        <option value="">-- Select Reference Field --</option>
    </select> <br/>

    <label>Validation</label>
    <df-simple-help data-options="helpText.validation"></df-simple-help>
    <textarea id="schema_field_details_validation" json-edit="field.record.validation" rows="5" cols="10" class="form-control"></textarea>
    <br/>

    <div class="panel panel-default">
        <div class="panel-heading">
            DB Function Use <df-simple-help data-options="helpText.db_function"></df-simple-help>
        </div>
        <div class="panel-body">
            <label>Assign Database Function To Uses Of This Field</label>
            <div class="row">
                <div class="col-xs-12">
                    <div class="col-xs-2">
                        <label>Uses</label>
                    </div>
                    <div class="col-xs-3">
                        <label>Function</label>
                    </div>
                    <div class="col-xs-1" >
                        <label>
                            <button id="schema_field_details_dbfunction_add" type="button" class="btn btn-default btn-sm" data-ng-click="addDbFunctionUse()"
                                    title="Add new DB function use">
                                <i class="fa fa-plus fa-fw"></i>
                            </button>
                        </label>

                    </div>
                </div>
            </div>

            <ul class="list-group">
                <li class="list-group-item" data-ng-repeat="function_use in field.record.db_function track by $index">
                    <df-function-use data-function-use="function_use" data-index="$index"></df-function-use>
                </li>
            </ul>
            <p ng-show="field.record.db_function.length === 0">
                No DB functions are assigned to this field. Click the add button to apply one.
            </p>

        </div>
    </div>

    <div data-ng-show="field.record.type === 'string' || field.record.type === 'integer'">
        <label>Picklist</label>
        &nbsp;&nbsp;<span class="text-muted">Enter a comma delimited list of values to make available</span>

        <input id="schema_field_details_picklist" class="form-control" type="text" data-ng-model="field.record.picklist"/>
        <br/>
    </div>

    <div class="row df-btn-row form-controls" style="padding-bottom: 20px">
        <div class="col-xs-12">
            <button id="schema_field_details_add"
                type="button"
                class="btn btn-primary"
                ng-hide="!tableStatus"
                data-ng-click="updField(field.__dfUI.newField);">
                Add Field
            </button>
            <button id="schema_field_details_save"
                type="button"
                class="btn btn-primary"
                ng-hide="tableStatus"
                data-ng-click="updField(field.__dfUI.newField);">
                Save
            </button>
            <button id="schema_field_details_cancel" 
                type="button"
                class="btn btn-default"
                data-ng-click="closeField(false)">
                Cancel
            </button>
        </div>
    </div>


</div>
