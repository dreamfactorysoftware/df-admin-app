<div>

    <!-- Form Title -->
    <df-details-header data-new="newApp" data-api-name="'Application'" data-name="app.record.name"></df-details-header>


    <!-- Create Application Form -->
    <form name="create-application" data-ng-submit="saveApp()">
        <div>
            <div class="row">
                <div class="col-md-6">
                    <!-- Application Name -->
                    <div class="form-group">
                        <label>Application Name</label><df-simple-help data-options="dfHelp.name"></df-simple-help>
                        <input class="form-control" type="text" data-ng-model="app.record.name" placeholder="Enter Name" data-ng-required="true"/>
                    </div>

                    <div class="form-group">
                        <label>Description</label><df-simple-help data-options="dfHelp.description"></df-simple-help>
                        <input class="form-control" type="text" data-ng-model="app.record.description" placeholder="Enter Description"/>
                    </div>

					<!-- Your Application API Key -->

					<div class="form-group" data-ng-if="app.record.api_key !== 0">
						<div class="alert alert-info">
							<p><i class="fa fa-fw fa-cloud">&nbsp;</i>Your API key is: <span>{{app.record.api_key}}</span></p>
						</div>
					</div>

                    <div class="form-group ng-scope">
                        <div class="checkbox">
                            <label><input data-ng-model="app.record.is_active" type="checkbox">Active</label>
                        </div>
                    </div>

                    <hr />

                    <!-- Application Location -->
                    <div class="form-group">
                        <label>Where will this app live</label><df-simple-help data-options="dfHelp.appLocation"></df-simple-help>
                        <div class="radio" data-ng-repeat="location in locations">
                            <label>
                                <input type="radio" data-ng-model="app.record.type" value="{{location.value}}">
                                {{location.label}}
                            </label>
                        </div>
                    </div>

                    <hr />

                    <!-- Application Storage Service -->
                    <div data-ng-if="app.record.type == 1">
                        <!--<df-simple-help data-options="dfHelp.storageAndLaunchpad"></df-simple-help> -->
                        <div class="form-group">
                            <label>Storage Service</label><df-simple-help data-options="dfHelp.storageService"></df-simple-help>
                            <select class="form-control" data-ng-model="app.record.storage_service_id" data-ng-options="service.id as service.label for service in storageServices"></select>
                        </div>

                        <div class="form-group">
                            <label>Storage Folder</label><df-simple-help data-options="dfHelp.storageContainer"></df-simple-help>
                            <select class="form-control" data-ng-model="app.record.storage_container" data-ng-options="value.name as value.name for value in storageContainers"></select>
                        </div>

                        <div class="form-group">
                            <label>Launch Path</label><df-simple-help data-options="dfHelp.defaultPath"></df-simple-help>
                            <input class="form-control" type="text" data-ng-model="app.record.path" placeholder="Enter default path and file to launch." />
                        </div>

                        <hr />
                    </div>

                    <!-- Supply URL -->
                    <div data-ng-if="app.record.type == 2">
                        <div class="form-group">
                            <label>URL to Application</label><df-simple-help data-options="dfHelp.remoteUrl"></df-simple-help>
                            <input class="form-control" type="text" data-ng-model="app.record.url" placeholder="Enter full URL e.g. http://www.myserver.com" data-ng-required="true"/>
                        </div>

                        <hr />
                    </div>

                    <!-- Supply Path -->
                    <div data-ng-if="app.record.type == 3">
                        <div class="form-group">
                            <label>Path to Application</label><df-simple-help data-options="dfHelp.defaultPath"></df-simple-help>
                            <input class="form-control" type="text" data-ng-model="app.record.path" placeholder="Enter path relative to this web server." data-ng-required="true"/>
                        </div>

                        <hr />
                    </div>

                    <!-- Your Application URL -->

                    <div class="form-group" data-ng-if="app.record.type == 1">
                        <div class="alert alert-info">
                            <p><i class="fa fa-fw fa-cloud">&nbsp;</i>Your URL will be: {{currentServer}}/{{ selectedStorageService.name }}/{{app.record.storage_container}}{{app.record.path}}</p>
                        </div>
                    </div>
					<div class="form-group" data-ng-if="app.record.type == 3">
						<div class="alert alert-info">
							<p><i class="fa fa-fw fa-cloud">&nbsp;</i>Your URL will be: {{currentServer}}/{{app.record.path}}</p>
						</div>
					</div>


                </div>


                <div class="col-md-6">
                    <!-- Assign a Role -->
                    <div class="form-group">
                        <label>Assign a Default Role</label><df-simple-help data-options="dfHelp.assignRole"></df-simple-help>
                        <select class="form-control" data-ng-model="selectedRoleId" data-ng-options="role.id as role.name for role in roles">
                            <option value="">-- No Role Selected --</option>
                        </select>
                    </div>

                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">

                <div class="form-group">
                    <div data-ng-if="newApp">
                        <input class="btn btn-default btn-primary" type="submit" value="Create Application" />
                    </div>
                    <div data-ng-if="!newApp">
                        <input class="btn btn-default btn-primary" type="submit" value="Update Application" />
                        <button type="button" class="btn btn-default" data-ng-click="closeApp()">Close</button>
                    </div>
                </div>

            </div>
        </div>
    </form>
</div>